(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(19)},17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(10),c=a.n(r),i=(a(17),a(3)),o=a(2),u=a(1),l=a(4),h=a(5),m=a(8),d=a(6),p=a(7),v=(a(18),Object.assign({},{"\u3042":"a","\u3044":"i","\u3046":"u","\u3048":"e","\u304a":"o","\u304b":"ka","\u304d":"ki","\u304f":"ku","\u3051":"ke","\u3053":"ko","\u3055":"sa","\u3057":"shi","\u3059":"su","\u305b":"se","\u305d":"so","\u305f":"ta","\u3061":"chi","\u3064":"tsu","\u3066":"te","\u3068":"to","\u306a":"na","\u306b":"ni","\u306c":"nu","\u306d":"ne","\u306e":"no","\u306f":"ha","\u3072":"hi","\u3075":"fu","\u3078":"he","\u307b":"ho","\u307e":"ma","\u307f":"mi","\u3080":"mu","\u3081":"me","\u3082":"mo","\u3084":"ya","\u3086":"yu","\u3088":"yo","\u3089":"ra","\u308a":"ri","\u308b":"ru","\u308c":"re","\u308d":"ro","\u308f":"wa","\u3092":"wo","\u3093":"n"},{"\u30a2":"a","\u30a4":"i","\u30a6":"u","\u30a8":"e","\u30aa":"o","\u30ab":"ka","\u30ad":"ki","\u30af":"ku","\u30b1":"ke","\u30b3":"ko","\u30b5":"sa","\u30b7":"shi","\u30b9":"su","\u30bb":"se","\u30bd":"so","\u30bf":"ta","\u30c1":"chi","\u30c4":"tsu","\u30c6":"te","\u30c8":"to","\u30ca":"na","\u30cb":"ni","\u30cc":"nu","\u30cd":"ne","\u30ce":"no","\u30cf":"ha","\u30d2":"hi","\u30d5":"fu","\u30d8":"he","\u30db":"ho","\u30de":"ma","\u30df":"mi","\u30e0":"mu","\u30e1":"me","\u30e2":"mo","\u30e4":"ya","\u30e6":"yu","\u30e8":"yo","\u30e9":"ra","\u30ea":"ri","\u30eb":"ru","\u30ec":"re","\u30ed":"ro","\u30ef":"wa","\u30f2":"wo","\u30f3":"n"})),g=[{name:"vowels",group:["\u3042","\u3044","\u3046","\u3048","\u304a"]},{name:"k-line",group:["\u304b","\u304d","\u304f","\u3051","\u3053"]},{name:"s-line",group:["\u3055","\u3057","\u3059","\u305b","\u305d"]},{name:"t-line",group:["\u305f","\u3061","\u3064","\u3066","\u3068"]},{name:"n-line",group:["\u306a","\u306b","\u306c","\u306d","\u306e"]},{name:"h-line",group:["\u306f","\u3072","\u3075","\u3078","\u307b"]},{name:"m-line",group:["\u307e","\u307f","\u3080","\u3081","\u3082"]},{name:"y-line",group:["\u3084","\u3086","\u3088"]},{name:"r-line",group:["\u3089","\u308a","\u308b","\u308c","\u308d"]},{name:"w-line",group:["\u308f","\u3092"]},{name:"n",group:["\u3093"]}].concat([{name:"vowels",group:["\u30a2","\u30a4","\u30a6","\u30a8","\u30aa"]},{name:"k-line",group:["\u30ab","\u30ad","\u30af","\u30b1","\u30b3"]},{name:"s-line",group:["\u30b5","\u30b7","\u30b9","\u30bb","\u30bd"]},{name:"t-line",group:["\u30bf","\u30c1","\u30c4","\u30c6","\u30c8"]},{name:"n-line",group:["\u30ca","\u30cb","\u30cc","\u30cd","\u30ce"]},{name:"h-line",group:["\u30cf","\u30d2","\u30d5","\u30d8","\u30db"]},{name:"m-line",group:["\u30de","\u30df","\u30e0","\u30e1","\u30e2"]},{name:"y-line",group:["\u30e4","\u30e6","\u30e8"]},{name:"r-line",group:["\u30e9","\u30ea","\u30eb","\u30ec","\u30ed"]},{name:"w-line",group:["\u30ef","\u30f2"]},{name:"",group:["\u30f3"]}]),f=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}return e},b=function(e){return s.a.createElement("div",{className:"character"},s.a.createElement("div",{className:"kana"},e.kana),s.a.createElement("div",{className:"roman"},v[e.kana]))},k=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=g.map(function(t,a){return s.a.createElement("div",{className:"group",key:a},s.a.createElement("input",{className:"select",type:"checkbox",checked:e.props.selected.has(a),onChange:e.handleCheck(a)}),s.a.createElement("div",{className:"name"},t.name),s.a.createElement("div",{className:"characters"},t.group.map(function(e){return s.a.createElement(b,{kana:e,key:v[e]})})))});return s.a.createElement("div",null,s.a.createElement("h1",null,"Selection"),s.a.createElement("div",{className:"select-groups"},t))}},{key:"handleCheck",value:function(e){var t=this;return function(a){a.target.checked?t.props.select(e):t.props.unselect(e)}}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onTextChange=a.onTextChange.bind(Object(u.a)(Object(u.a)(a))),a.state={startedAt:Date.now(),current:"",currentGuess:"",done:!1,shuffledList:f(e.characters.slice())},a.state.current=a.state.shuffledList[0],a.state.shuffledList=a.state.shuffledList.slice(1),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"onTextChange",value:function(e){var t=this,a=e.target;if(!this.state.done){var n=v[this.state.current];a.value=a.value.toLowerCase();var s=n.substr(0,a.value.length)===a.value,r=n===a.value;if(!s||r){this.setState(Object(o.a)({},this.state,{currentGuess:a.value,done:!0})),fetch("/api/guess",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startedAt:this.state.startedAt,guessedAt:Date.now(),expectedCharacter:n,guessedCharacter:a.value,selectedGroups:this.props.selectedGroups})});var c=function(){var e=t.state.shuffledList;0===e.length&&(e=f(t.props.characters.slice())),t.setState(Object(o.a)({},t.state,{current:e[0],currentGuess:"",done:!1,startedAt:Date.now(),shuffledList:e.slice(1)}))};r?c():setTimeout(c,2e3)}else this.setState(Object(o.a)({},this.state,{currentGuess:a.value,startedAt:(Date.now()-this.state.startedAt)/1e3>=60?Date.now():this.state.startedAt}))}}},{key:"render",value:function(){var e,t=v[this.state.current];return e=this.state.currentGuess===t?s.a.createElement("div",{className:"correct ".concat(this.state.done?"":"invisible")},"Correct!"):s.a.createElement("div",{className:"incorrect ".concat(this.state.done?"":"invisible")},"The correct answer is ",t),s.a.createElement("div",{className:"guess"},s.a.createElement("div",{className:"toGuess"},this.state.current),s.a.createElement("div",{className:"done-placeholder"},e),s.a.createElement("input",{type:"text",onChange:this.onTextChange,value:this.state.currentGuess}))}}]),t}(n.Component),j=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={selected:new Set,started:!1},e.select=e.select.bind(Object(u.a)(Object(u.a)(e))),e.unselect=e.unselect.bind(Object(u.a)(Object(u.a)(e))),e.start=e.start.bind(Object(u.a)(Object(u.a)(e))),e}return Object(p.a)(t,e),Object(h.a)(t,[{key:"getCharacters",value:function(e){return Object(i.a)(e).map(function(e){return g[e].group}).reduce(function(e,t){return e.concat(t)},[])}},{key:"render",value:function(){return this.state.started?s.a.createElement(O,{characters:this.getCharacters(this.state.selected),selectedGroups:Object(i.a)(this.state.selected)}):s.a.createElement("div",{className:"app"},s.a.createElement(k,{select:this.select,unselect:this.unselect,selected:this.state.selected}),s.a.createElement("div",null,"Number selected: ",this.getCharacters(this.state.selected).length),s.a.createElement("button",{disabled:0===this.state.selected.size,onClick:this.start},"Start"))}},{key:"select",value:function(e){var t=new Set(Object(i.a)(this.state.selected));t.add(e),this.setState(Object(o.a)({},this.state,{selected:t}))}},{key:"unselect",value:function(e){this.setState(Object(o.a)({},this.state,{selected:new Set(Object(i.a)(this.state.selected).filter(function(t){return t!==e}))}))}},{key:"start",value:function(){this.setState(Object(o.a)({},this.state,{started:!0}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.a13e47d8.chunk.js.map